"use strict";angular.module("gistblogApp",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/posts"),a.state("postList",{url:"/posts",templateUrl:"views/postList.html",controller:"PostListCtrl"}).state("post",{url:"/posts/:title",templateUrl:"views/post.html",controller:"PostCtrl"})}]),angular.module("gistblogApp").controller("PostListCtrl",["$scope","PostService",function(a,b){b.getList().then(function(b){a.posts=b.data})}]),angular.module("gistblogApp").controller("PostCtrl",["$scope","$document","$sce","$stateParams","PostService",function(a,b,c,d,e){e.get(d.title).then(function(b){a.postName=b.data.name;var d='<script>_.each(angular.element(document).find("pre"), function (block) {hljs.highlightBlock(block);});</script>',e=atob(b.data.content)+d;a.postContent=c.trustAsHtml(e)})}]),angular.module("gistblogApp").service("PostService",["$http",function(a){function b(){return a.get("https://api.github.com/repositories/31714901/contents/posts")}function c(b){return a.get("https://api.github.com/repos/tygern/blog-posts/contents/posts/"+b)}return{getList:_.memoize(b),get:_.memoize(c)}}]),angular.module("gistblogApp").filter("gbTitle",function(){return function(a){return _.map(_.words(a.slice(0,-5)),_.capitalize).join(" ")}});